import{Bb as D,Db as j,Eb as q,Fb as Q,Gb as W,Hb as f,Ib as b,Id as re,Jc as G,La as h,Lc as J,P as M,Pb as w,Pc as ee,Q as P,S as O,Sd as oe,Tc as te,Td as L,U as p,Uc as ie,Wd as se,Ya as R,Yb as K,Yc as u,Yd as le,Z as a,Za as Y,Zc as v,_ as c,a as A,ab as x,bb as X,cb as $,fa as z,ib as k,lb as H,ma as S,mb as I,nd as ne,pb as m,qb as _,qe as ae,rb as C,re as ce,se as y,tc as Z,te as T,yb as U,zb as N}from"./chunk-T55JMWX5.js";var de=`
    .p-scrollpanel-content-container {
        overflow: hidden;
        width: 100%;
        height: 100%;
        position: relative;
        z-index: 1;
        float: left;
    }

    .p-scrollpanel-content {
        height: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        width: calc(100% + calc(2 * dt('scrollpanel.bar.size')));
        padding-inline: 0 calc(2 * dt('scrollpanel.bar.size'));
        padding-block: 0 calc(2 * dt('scrollpanel.bar.size'));
        position: relative;
        overflow: auto;
        box-sizing: border-box;
        scrollbar-width: none;
    }

    .p-scrollpanel-content::-webkit-scrollbar {
        display: none;
    }

    .p-scrollpanel-bar {
        position: relative;
        border-radius: dt('scrollpanel.bar.border.radius');
        z-index: 2;
        cursor: pointer;
        opacity: 0;
        outline-color: transparent;
        background: dt('scrollpanel.bar.background');
        border: 0 none;
        transition:
            outline-color dt('scrollpanel.transition.duration'),
            opacity dt('scrollpanel.transition.duration');
    }

    .p-scrollpanel-bar:focus-visible {
        box-shadow: dt('scrollpanel.bar.focus.ring.shadow');
        outline: dt('scrollpanel.barfocus.ring.width') dt('scrollpanel.bar.focus.ring.style') dt('scrollpanel.bar.focus.ring.color');
        outline-offset: dt('scrollpanel.barfocus.ring.offset');
    }

    .p-scrollpanel-bar-y {
        width: dt('scrollpanel.bar.size');
        inset-block-start: 0;
    }

    .p-scrollpanel-bar-x {
        height: dt('scrollpanel.bar.size');
        inset-block-end: 0;
    }

    .p-scrollpanel-hidden {
        visibility: hidden;
    }

    .p-scrollpanel:hover .p-scrollpanel-bar,
    .p-scrollpanel:active .p-scrollpanel-bar {
        opacity: 1;
    }

    .p-scrollpanel-grabbed {
        user-select: none;
    }
`;var pe=["content"],we=["xBar"],ve=["yBar"],ge=["*"];function ye(r,s){r&1&&q(0)}function Be(r,s){r&1&&U(0)}var Me=`
    ${de}

    .p-scrollpanel {
        display: block;
    }
`,_e={root:"p-scrollpanel p-component",contentContainer:"p-scrollpanel-content-container",content:"p-scrollpanel-content",barX:"p-scrollpanel-bar p-scrollpanel-bar-x",barY:"p-scrollpanel-bar p-scrollpanel-bar-y"},ue=(()=>{class r extends se{name="scrollpanel";style=Me;classes=_e;static \u0275fac=(()=>{let e;return function(t){return(e||(e=S(r)))(t||r)}})();static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})();var he=new O("SCROLLPANEL_INSTANCE"),Ce=(()=>{class r extends ce{$pcScrollPanel=p(he,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=p(y,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptms(["host","root"]))}styleClass;step=5;contentViewChild;xBarViewChild;yBarViewChild;contentTemplate;templates;_contentTemplate;scrollYRatio;scrollXRatio;timeoutFrame=e=>setTimeout(e,0);initialized=!1;lastPageY;lastPageX;isXBarClicked=!1;isYBarClicked=!1;lastScrollLeft=0;lastScrollTop=0;orientation="vertical";timer;contentId;windowResizeListener;contentScrollListener;mouseEnterListener;xBarMouseDownListener;yBarMouseDownListener;documentMouseMoveListener;documentMouseUpListener;_componentStyle=p(ue);zone=p(z);onInit(){this.contentId=re("pn_id_")+"_content"}onAfterViewInit(){ee(this.platformId)&&this.zone.runOutsideAngular(()=>{this.moveBar(),this.moveBar=this.moveBar.bind(this),this.onXBarMouseDown=this.onXBarMouseDown.bind(this),this.onYBarMouseDown=this.onYBarMouseDown.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseUp=this.onDocumentMouseUp.bind(this),this.windowResizeListener=this.renderer.listen(window,"resize",this.moveBar),this.contentScrollListener=this.renderer.listen(this.contentViewChild.nativeElement,"scroll",this.moveBar),this.mouseEnterListener=this.renderer.listen(this.contentViewChild.nativeElement,"mouseenter",this.moveBar),this.xBarMouseDownListener=this.renderer.listen(this.xBarViewChild.nativeElement,"mousedown",this.onXBarMouseDown),this.yBarMouseDownListener=this.renderer.listen(this.yBarViewChild.nativeElement,"mousedown",this.onYBarMouseDown),this.calculateContainerHeight(),this.initialized=!0})}onAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this._contentTemplate=e.template;break;default:this._contentTemplate=e.template;break}})}calculateContainerHeight(){let e=this.el.nativeElement,i=this.contentViewChild.nativeElement,t=this.xBarViewChild.nativeElement,n=this.document.defaultView,o=n.getComputedStyle(e),l=n.getComputedStyle(t),d=ne(e)-parseInt(l.height,10);o["max-height"]!="none"&&d==0&&(i.offsetHeight+parseInt(l.height,10)>parseInt(o["max-height"],10)?e.style.height=o["max-height"]:e.style.height=i.offsetHeight+parseFloat(o.paddingTop)+parseFloat(o.paddingBottom)+parseFloat(o.borderTopWidth)+parseFloat(o.borderBottomWidth)+"px")}moveBar(){let e=this.el.nativeElement,i=this.contentViewChild.nativeElement,t=this.xBarViewChild.nativeElement,n=i.scrollWidth,o=i.clientWidth,l=(e.clientHeight-t.clientHeight)*-1;this.scrollXRatio=o/n;let d=this.yBarViewChild.nativeElement,B=i.scrollHeight,F=i.clientHeight,fe=(e.clientWidth-d.clientWidth)*-1;this.scrollYRatio=F/B,this.requestAnimationFrame(()=>{if(this.scrollXRatio>=1)t.setAttribute("data-p-scrollpanel-hidden","true"),!this.$unstyled()&&u(t,"p-scrollpanel-hidden");else{t.setAttribute("data-p-scrollpanel-hidden","false"),!this.$unstyled()&&v(t,"p-scrollpanel-hidden");let g=Math.max(this.scrollXRatio*100,10),E=Math.abs(i.scrollLeft*(100-g)/(n-o));t.style.cssText="width:"+g+"%; inset-inline-start:"+E+"%;bottom:"+l+"px;"}if(this.scrollYRatio>=1)d.setAttribute("data-p-scrollpanel-hidden","true"),!this.$unstyled()&&u(d,"p-scrollpanel-hidden");else{d.setAttribute("data-p-scrollpanel-hidden","false"),!this.$unstyled()&&v(d,"p-scrollpanel-hidden");let g=Math.max(this.scrollYRatio*100,10),E=i.scrollTop*(100-g)/(B-F);d.style.cssText="height:"+g+"%; top: calc("+E+"% - "+t.clientHeight+"px); inset-inline-end:"+fe+"px;"}}),this.cd.markForCheck()}onScroll(e){this.lastScrollLeft!==e.target.scrollLeft?(this.lastScrollLeft=e.target.scrollLeft,this.orientation="horizontal"):this.lastScrollTop!==e.target.scrollTop&&(this.lastScrollTop=e.target.scrollTop,this.orientation="vertical"),this.moveBar()}onKeyDown(e){if(this.orientation==="vertical")switch(e.code){case"ArrowDown":{this.setTimer("scrollTop",this.step),e.preventDefault();break}case"ArrowUp":{this.setTimer("scrollTop",this.step*-1),e.preventDefault();break}case"ArrowLeft":case"ArrowRight":{e.preventDefault();break}default:break}else if(this.orientation==="horizontal")switch(e.code){case"ArrowRight":{this.setTimer("scrollLeft",this.step),e.preventDefault();break}case"ArrowLeft":{this.setTimer("scrollLeft",this.step*-1),e.preventDefault();break}case"ArrowDown":case"ArrowUp":{e.preventDefault();break}default:break}}onKeyUp(){this.clearTimer()}repeat(e,i){this.contentViewChild?.nativeElement&&(this.contentViewChild.nativeElement[e]+=i),this.moveBar()}setTimer(e,i){this.clearTimer(),this.timer=setTimeout(()=>{this.repeat(e,i)},40)}clearTimer(){this.timer&&clearTimeout(this.timer)}bindDocumentMouseListeners(){this.documentMouseMoveListener||(this.documentMouseMoveListener=e=>{this.onDocumentMouseMove(e)},this.document.addEventListener("mousemove",this.documentMouseMoveListener)),this.documentMouseUpListener||(this.documentMouseUpListener=e=>{this.onDocumentMouseUp(e)},this.document.addEventListener("mouseup",this.documentMouseUpListener))}unbindDocumentMouseListeners(){this.documentMouseMoveListener&&(this.document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onYBarMouseDown(e){this.isYBarClicked=!0,this.yBarViewChild?.nativeElement?.focus(),this.lastPageY=e.pageY,this.yBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","true"),!this.$unstyled()&&u(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","true"),!this.$unstyled()&&u(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onXBarMouseDown(e){this.isXBarClicked=!0,this.xBarViewChild?.nativeElement?.focus(),this.lastPageX=e.pageX,this.xBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&u(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&u(this.document.body,"p-scrollpanel-grabbed"),this.bindDocumentMouseListeners(),e.preventDefault()}onDocumentMouseMove(e){this.isXBarClicked?this.onMouseMoveForXBar(e):this.isYBarClicked?this.onMouseMoveForYBar(e):(this.onMouseMoveForXBar(e),this.onMouseMoveForYBar(e))}onMouseMoveForXBar(e){let i=e.pageX-this.lastPageX;this.lastPageX=e.pageX,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollLeft+=i/this.scrollXRatio})}onMouseMoveForYBar(e){let i=e.pageY-this.lastPageY;this.lastPageY=e.pageY,this.requestAnimationFrame(()=>{this.contentViewChild.nativeElement.scrollTop+=i/this.scrollYRatio})}scrollTop(e){let i=this.contentViewChild.nativeElement.scrollHeight-this.contentViewChild.nativeElement.clientHeight;e=e>i?i:e>0?e:0,this.contentViewChild.nativeElement.scrollTop=e}onFocus(e){this.xBarViewChild?.nativeElement?.isSameNode(e.target)?this.orientation="horizontal":this.yBarViewChild?.nativeElement?.isSameNode(e.target)&&(this.orientation="vertical")}onBlur(){this.orientation==="horizontal"&&(this.orientation="vertical")}onDocumentMouseUp(e){this.yBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&v(this.yBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.xBarViewChild?.nativeElement?.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&v(this.xBarViewChild.nativeElement,"p-scrollpanel-grabbed"),this.document.body.setAttribute("data-p-scrollpanel-grabbed","false"),!this.$unstyled()&&v(this.document.body,"p-scrollpanel-grabbed"),this.unbindDocumentMouseListeners(),this.isXBarClicked=!1,this.isYBarClicked=!1}requestAnimationFrame(e){(window.requestAnimationFrame||this.timeoutFrame)(e)}unbindListeners(){this.windowResizeListener&&(this.windowResizeListener(),this.windowResizeListener=null),this.contentScrollListener&&(this.contentScrollListener(),this.contentScrollListener=null),this.mouseEnterListener&&(this.mouseEnterListener(),this.mouseEnterListener=null),this.xBarMouseDownListener&&(this.xBarMouseDownListener(),this.xBarMouseDownListener=null),this.yBarMouseDownListener&&(this.yBarMouseDownListener(),this.yBarMouseDownListener=null)}onDestroy(){this.initialized&&this.unbindListeners()}refresh(){this.moveBar()}static \u0275fac=(()=>{let e;return function(t){return(e||(e=S(r)))(t||r)}})();static \u0275cmp=R({type:r,selectors:[["p-scroll-panel"],["p-scrollPanel"],["p-scrollpanel"]],contentQueries:function(i,t,n){if(i&1&&Q(n,pe,4)(n,oe,4),i&2){let o;f(o=b())&&(t.contentTemplate=o.first),f(o=b())&&(t.templates=o)}},viewQuery:function(i,t){if(i&1&&W(pe,5)(we,5)(ve,5),i&2){let n;f(n=b())&&(t.contentViewChild=n.first),f(n=b())&&(t.xBarViewChild=n.first),f(n=b())&&(t.yBarViewChild=n.first)}},hostVars:2,hostBindings:function(i,t){i&2&&w(t.cn(t.cx("root"),t.styleClass))},inputs:{styleClass:"styleClass",step:[2,"step","step",Z]},features:[K([ue,{provide:he,useExisting:r},{provide:ae,useExisting:r}]),x([y]),X],ngContentSelectors:ge,decls:9,vars:22,consts:[["content",""],["xBar",""],["yBar",""],[3,"pBind"],[3,"mouseenter","scroll","pBind"],[4,"ngTemplateOutlet"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus","blur","pBind"],["tabindex","0","role","scrollbar",3,"mousedown","keydown","keyup","focus","pBind"]],template:function(i,t){if(i&1){let n=N();j(),_(0,"div",3)(1,"div",4,0),D("mouseenter",function(){return a(n),c(t.moveBar())})("scroll",function(l){return a(n),c(t.onScroll(l))}),H(3,ye,1,0),$(4,Be,1,0,"ng-container",5),C()(),_(5,"div",6,1),D("mousedown",function(l){return a(n),c(t.onXBarMouseDown(l))})("keydown",function(l){return a(n),c(t.onKeyDown(l))})("keyup",function(){return a(n),c(t.onKeyUp())})("focus",function(l){return a(n),c(t.onFocus(l))})("blur",function(){return a(n),c(t.onBlur())}),C(),_(7,"div",7,2),D("mousedown",function(l){return a(n),c(t.onYBarMouseDown(l))})("keydown",function(l){return a(n),c(t.onKeyDown(l))})("keyup",function(){return a(n),c(t.onKeyUp())})("focus",function(l){return a(n),c(t.onFocus(l))}),C()}i&2&&(w(t.cx("contentContainer")),m("pBind",t.ptm("contentContainer")),h(),w(t.cx("content")),m("pBind",t.ptm("content")),h(2),I(!t.contentTemplate&&!t._contentTemplate?3:-1),h(),m("ngTemplateOutlet",t.contentTemplate||t._contentTemplate),h(),w(t.cx("barX")),m("pBind",t.ptm("barX")),k("aria-orientation","horizontal")("aria-valuenow",t.lastScrollLeft)("aria-controls",t.contentId)("data-pc-group-section","bar"),h(2),w(t.cx("barY")),m("pBind",t.ptm("barY")),k("aria-orientation","vertical")("aria-valuenow",t.lastScrollTop)("aria-controls",t.contentId)("data-pc-group-section","bar"))},dependencies:[J,G,L,T,y],encapsulation:2,changeDetection:0})}return r})(),Ne=(()=>{class r{static \u0275fac=function(i){return new(i||r)};static \u0275mod=Y({type:r});static \u0275inj=P({imports:[Ce,L,T,L,T]})}return r})();var V=class{http=p(ie);get apiUrl(){return`${le.apiUrl}/${this.endpoint}`}findAll(s,e,i,t){let n=this.createHttpParams(s);return this.http.get(this.apiUrl,{params:n})}getById(s){return this.http.get(`${this.apiUrl}/${s}`)}create(s){return this.http.post(this.apiUrl,s)}update(s,e){return this.http.put(`${this.apiUrl}/${s}`,e)}delete(s){return this.http.delete(`${this.apiUrl}/${s}`)}createHttpParams(s){let e=new te;return s&&Object.keys(s).forEach(i=>{let t=s[i];t!=null&&t!==""&&(e=e.append(i,t))}),e}};var me=class r extends V{endpoint="orders";constructor(){super()}getOrders(s){let e=A({},s);e.startDate?(e.start_date=this.formatDateForBackend(e.startDate,!1),delete e.startDate):e.start_date&&e.start_date instanceof Date&&(e.start_date=this.formatDateForBackend(e.start_date,!1)),e.endDate?(e.end_date=this.formatDateForBackend(e.endDate,!0),delete e.endDate):e.end_date&&e.end_date instanceof Date&&(e.end_date=this.formatDateForBackend(e.end_date,!0));let i=e.rows||e.pageSize||10;return e.page_size=i,e.first!==void 0&&(e.page=Math.floor(e.first/i)),e.sortField&&(e.sort_by=e.sortField),e.sortOrder&&(e.sort_dir=e.sortOrder===1?"asc":"desc"),e.sort_by||(e.sort_by="created_at",e.sort_dir="desc"),["rows","pageSize","first","sortField","sortOrder","filters","globalFilter","multiSortMeta","forceUpdate"].forEach(n=>delete e[n]),Object.keys(e).forEach(n=>{(e[n]===null||e[n]===void 0||e[n]==="")&&delete e[n]}),this.findAll(e)}formatDateForBackend(s,e=!1){if(!s)return"";let i=new Date(s);if(isNaN(i.getTime()))return String(s);e&&i.setHours(23,59,59,999);let t=i.getFullYear(),n=("0"+(i.getMonth()+1)).slice(-2),o=("0"+i.getDate()).slice(-2),l=("0"+i.getHours()).slice(-2),d=("0"+i.getMinutes()).slice(-2),B=("0"+i.getSeconds()).slice(-2);return`${t}-${n}-${o} ${l}:${d}:${B}`}deleteOrder(s){return this.delete(s)}deleteAllOrders(){return this.http.delete(this.apiUrl)}getOrderFamily(s){return this.http.get(`${this.apiUrl}/family`,{params:{code:s}})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})};export{Ce as a,Ne as b,me as c};
